<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>无标题文档</title>
    <script src="js/jquery-2.2.3.min.js"></script>
    <script src="js/jquery-form.js"></script>
    <link href="css/bootstrap/bootstrap.css" rel="stylesheet">
    <script src="js/bootstrap/bootstrap.js"></script>
    <script type="text/javascript" >
        function checkaccountgr(){
            // return false;
            var zcmc=$("#zcmc").val();

            var checklist = $("span[id$='Check_label1']").text();

            if(checklist!=""){
                alert(checklist);
                return false;
            }else if(zcmc==""){
                alert("请完整填写信息!");
                return false;
            }
            $('#myModal').modal('show');
            return true;

        }
        function checkaccountqy(){
            // return false;
            var qymc=$("#qymc").val();

            var checklist = $("span[id$='Check_label2']").text();

            if(checklist!=""){
                alert(checklist);
                return false;
            }else if(qymc==""){
                alert("请完整填写信息!");
                return false;
            }
            $('#myModal').modal('show');
            return true;

        }
        function checkRegisterInfo(num,obj) {
            var text = $(obj).val();
            var check = $(obj).parent().children('span').eq(1);
            check.html("");
            var inputname = $(obj).parent().children().text();


            switch (num) {

                    //验证资产名称
                case 1:

                    //验证是否为空

                    if (text == "") {
                        check.html(inputname + "不能为空!");
                        check.css({color: "red"});

                    } else {
                        check.html("");
                    }
                    break;
                case 2:

                    if (text == "") {
                        check.html(inputname + "不能为空!");
                        check.css({color: "red"});

                    } else if (text.search(/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/) == -1) {
                        check.css({color: "red"});
                        check.html("请输入规范的身份证号码!");
                    } else {
                        check.html("");
                    }
                    break;
                case 3:

                    if (text == "") {
                        check.html(inputname + "不能为空!");
                        check.css({color: "red"});

                    } else if (text.search(/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$|(^(13[0-9]|15[0|3|6|7|8|9]|177|18[8|9])\d{8}$)/) == -1) {
                        check.css({color: "red"});
                        check.html("请输入正确的联系电话!");
                    } else {
                        check.html("");
                    }
                    break;
                case 4:


                    if (text == "") {
                        check.html(inputname + "不能为空!");
                        check.css({color: "red"});

                    } else if (text.search(/^[0-9]+$/) == -1) {
                        check.css({color: "red"});
                        check.html("企业注册号不正确!");
                    } else {
                        check.html("");
                    }
                    break;

            }
        }
        function tijiaodengdai(result){
            setTimeout(function(){
                if(result=="tesSUCCESS"){
                    $('#imgchange').attr("src","img/zhengque.png");
                    $('#textchange').text("用户信息修改完成");
                    $('#tjtext').text("提交成功，我们将在两个工作日内对提交内容进行审核。您可以在审核中查看提交.");
                    $('#button').removeAttr("disabled");
                    $('#button').val("tesSUCCESS");
                    //window.parent.location.href='login';
                }else{
                    $('#imgchange').attr("src","img/cuowu.png");
                    $('#textchange').text("用户信息修改失败");
                    $('#tjtext').text("提交失败，请查看数据是否填写正确，重新填写正确数据。");
                    $('#button').removeAttr("disabled");
                }
                //$('#myModal').addClass("close");
            },1000);
        };
        function tiaozhuan(){
            var issuccess = $('#button').val();
            if(issuccess=="tesSUCCESS"){
                window.location.href='account';
            }

        }
        $('#form1').ajaxForm(function(result){
            tijiaodengdai(result);
        })
    </script>
    <style type="text/css">
        body {
            height: auto;
            width: 100%;
            margin: 0px;
            padding: 0px;
            max-width:970px;
            min-width:753px;
            background-color: #CCE5EC;

        }
        .bd {
            height: 40px;
            width: 75%;
            border: 1px solid #CCC;
            min-width: 530px;
            color: #666;
            text-indent: 3mm;
            background-color: #eef7fa;
        }
        .div_bd {
            width: auto;
            margin-bottom: 18px;
            text-align: left;
            margin-left: 20%;
        }
        #div1 #div3 {
            height: auto;
            margin-top: 50px;
            border-bottom-width: 1px;
            border-bottom-style: ridge;
            border-bottom-color: #c8e1e6;
            margin-bottom: 40px;
        }
        .div_yema {
            margin-top: 36px;
            margin-right: auto;
            margin-left: auto;
            height: 100px;
        }
        .bdfh {
            height: 40px;
            width: 100%;
            border: 1px solid #CCC;
            text-indent: 3mm;
            background-color: #eef7fa;
        }
        button {
            height: 43px;
            width: 142px;
            background-color: #69c9ec;
            border-top-style: none;
            border-right-style: none;
            border-bottom-style: none;
            border-left-style: none;
            border-radius: 5px;
        }
        button:hover{
            background-color: #9adaf1;cursor:pointer;
        }
        .an_ym {
            background-color: #a9c5d0;
            border-top-style: none;
            border-right-style: none;
            border-bottom-style: none;
            border-left-style: none;
            border-radius: 3px;
            height: 22px;
        }
        .an_ym:hover{
            background-color: #6ac8ec;cursor:pointer;
        }
        .font4 {
            font-family: "微软雅黑";
            font-size: 18px;
            color: #ed7c65;
        }
        .font2 {
            font-family: "微软雅黑";
            font-size: 13px;
            color: #2d3d5b;
        }
        .an1 {
            background-color: #69c9ec;
            height: 43px;
            width: 180px;
            font-family: "微软雅黑";
            font-size: 14px;
            border-radius: 5px;
            border-top-style: none;
            border-right-style: none;
            border-bottom-style: none;
            border-left-style: none;
        }
        .an1:hover{background-color:#91d7f0;
            cursor:pointer;}
        .font3 {
            font-family: "微软雅黑";
            font-size: 18px;
            font-weight: bold;
            color: #2d3d5b;
        }
        .font1 {
            font-family: "微软雅黑";
            font-size: 14px;
            font-weight: bold;
            color: #000;
        }
        #div1 #div2 {
            height: 42px;
            width: auto;
        }
        #div1 {
            width: auto;
            background-color: #ddeef4;

        }

        #div1 #div3 #an_tj {
            margin-right: auto;
            margin-left: auto;
            width: 180px;
            height: 120px;
            margin-top: 50px;
        }

    </style>

</head>
<body>

<div id="div1">
    <div id="div2" style="margin-top: 20px"><table width="100%" border="0" cellpadding="0" cellspacing="0">
            <tr>
                <td width="6" bgcolor="#ed7c65">&nbsp;</td>
                <td bgcolor="#c2e1eb" class="font1">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;修改信息</td>
                <td width="52" bgcolor="#c2e1eb"><img src="img/zccs.png" width="51" height="42" /></td>
            </tr>
        </table>

    </div>
    <div id="div3">
        <div class="TabbedPanelsContentGroup">
        <%if(information.type=="personal"){%>
            <div class="TabbedPanelsContent">
                <form id="form1" action="/modifyinformation" method="post" onsubmit="return checkaccountgr()">
                    <div class="div_bd" id="div_mc"><span class="font2" >姓名</span> &nbsp&nbsp<span id="zcmcCheck_label"></span><br />
                        <br style="line-height:12px" />
                        <label for="zcmc"></label>
                        <input name="name" type="text" class="bd" id="zcmc" placeholder="<%=information.name%>" value="<%=information.name%>" onblur="checkRegisterInfo(1,this)" />

                    </div>
                    <div class="div_bd" id="div_dm"><span class="font2">姓别</span>&nbsp&nbsp<span id="zcdmCheck_label"></span><br />
                        <br style="line-height:12px" />
                        <label for="zcdm"></label>
                        <%if(information.sex=='男'){%>
                            <input type="radio" name="sex" value="男" checked="true"> <span class="font1">男</span>
                            <input type="radio" name="sex" value="女"> <span class="font1">女</span>
                        <%}else{%>
                            <input type="radio" name="sex" value="男" > <span class="font1">男</span>
                            <input type="radio" name="sex" value="女" checked="true"> <span class="font1">女</span>
                        <%}%>
                    </div>
                    <div class="div_bd" id="div_fe"><span class="font2" >身份证</span>&nbsp&nbsp<span id="zczeCheck_label"></span><br />
                        <br style="line-height:12px" />
                        <label for="zcze"></label>
                        <input name="id" type="text" class="bd" id="zcze" placeholder="<%=information.id%>" value="<%=information.id%>" onblur="checkRegisterInfo(2,this)"/>
                    </div>
                    <div class="div_bd" id="div_jg"><span class="font2" >工作单位</span>&nbsp&nbsp<span id="ckjgCheck_label"></span><br/>
                        <br style="line-height:12px" />

                        <label for="zcckj"></label>
                        <input name="workplace" type="text" class="bd" id="ckjg" placeholder="<%=information.workplace%>" value="<%=information.workplace%>" onblur="checkRegisterInfo(1,this)"/>
                    </div>
                    <div class="div_bd" id="div_jg"><span class="font2" >联系人电话</span>&nbsp&nbsp<span id="ckjgCheck_label"></span><br/>
                        <br style="line-height:12px" />

                        <label for="zcckj"></label>
                        <input name="phone" type="text" class="bd" id="ckjg" placeholder="<%=information.phone%>" value="<%=information.phone%>" onblur="checkRegisterInfo(3,this)"/>
                    </div>
                    <div class="div_bd" id="div_jg"><span class="font2" >联系人地址</span>&nbsp&nbsp<span id="ckjgCheck_label"></span><br/>
                        <br style="line-height:12px" />

                        <label for="zcckj"></label>
                        <input name="address" type="text" class="bd" id="ckjg" placeholder="<%=information.address%>" value="<%=information.address%>" onblur="checkRegisterInfo(1,this)"/>
                    </div>
                    <div id="an_tj">
                        <input type="submit" class="an1" value="提&nbsp;&nbsp;交" />
                    </div>

                </form>
            </div>
            <%}else{%>
            <div class="TabbedPanelsContent">
                <form id="form1" action="/modifyinformation" method="post" onsubmit="return checkaccountqy()">
                    <div class="div_bd" id="div_mc"><span class="font2" >企业名称</span> &nbsp&nbsp<span id="zcmcCheck_label"></span><br />
                        <br style="line-height:12px" />
                        <label for="zcmc"></label>
                        <input name="name" type="text" class="bd" id="zcmc" placeholder="<%=information.name%>" value="<%=information.name%>" onblur="checkRegisterInfo(1,this)" />

                    </div>
                    <div class="div_bd" id="div_dm"><span class="font2">企业注册号</span>&nbsp&nbsp<span id="zcdmCheck_label"></span><br />
                        <br style="line-height:12px" />
                        <label for="zcdm"></label>
                        <input name="id" type="text" class="bd" id="zcmc" placeholder="<%=information.id%>" value="<%=information.id%>" onblur="checkRegisterInfo(4,this)" />
                    </div>
                    <div class="div_bd" id="div_fe"><span class="font2" >企业法人</span>&nbsp&nbsp<span id="zczeCheck_label"></span><br />
                        <br style="line-height:12px" />
                        <label for="zcze"></label>
                        <input name="corporation" type="text" class="bd" id="zcze" placeholder="<%=information.corporation%>" value="<%=information.corporation%>" onblur="checkRegisterInfo(1,this)"/>
                    </div>
                    <div class="div_bd" id="div_jg"><span class="font2" >企业地址</span>&nbsp&nbsp<span id="ckjgCheck_label"></span><br/>
                        <br style="line-height:12px" />

                        <label for="zcckj"></label>
                        <input name="address" type="text" class="bd" id="ckjg" placeholder="<%=information.address%>" value="<%=information.address%>" onblur="checkRegisterInfo(1,this)"/>
                    </div>
                    <div class="div_bd" id="div_jg"><span class="font2" >联系人电话</span>&nbsp&nbsp<span id="ckjgCheck_label"></span><br/>
                        <br style="line-height:12px" />

                        <label for="zcckj"></label>
                        <input name="phone" type="text" class="bd" id="ckjg" placeholder="<%=information.phone%>" value="<%=information.phone%>" onblur="checkRegisterInfo(3,this)"/>
                    </div>
                    <div class="div_bd" id="div_jg"><span class="font2" >联系人地址</span>&nbsp&nbsp<span id="ckjgCheck_label"></span><br/>
                        <br style="line-height:12px" />

                        <label for="zcckj"></label>
                        <input name="personAddress" type="text" class="bd" id="ckjg" placeholder="<%=information.personAddress%>" value="<%=information.personAddress%>" onblur="checkRegisterInfo(1,this)"/>
                    </div>
                    <div id="an_tj">
                        <input type="submit" class="an1" value="提&nbsp;&nbsp;交" />
                    </div>

                </form>
            </div>
            <%}%>
        </div>
        <!--模态框（Modal）-->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" data-backdrop="static" data-keyboard="false" data-show="false"
             aria-labelledby="myModalLabel" aria-hidden="true" style="margin-top: 10%">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                    </div>
                    <div class="modal-body">
                        <div>
                            <table width="100%">
                                <tr>
                                    <td width="40%" align="right" style="padding-right: 20px">
                                        <img id="imgchange" src="img/jiazaizhong-063.gif" style="width: 50px;height: 50px" alt=""/>
                                    </td>
                                    <td id="textchange" width="60%" align="left" class="font3">正在提交...</td>
                                </tr>
                            </table>
                        </div>

                        <div style="padding-left:50px">
                            <p >
                                <span id="tjtext" class="font2">数据正在提交，请耐心等待。</span>
                            </p>
                        </div>
                        <div class="modal-footer">
                            <button id="button" type="button" class="btn btn-primary" data-dismiss="modal" onclick="tiaozhuan()" disabled="true">
                                确定
                            </button>
                        </div>
                    </div>

                </div><!-- /.modal-content -->
            </div><!-- /.modal -->
        </div>
    </div>
</div>



</body>
</html>