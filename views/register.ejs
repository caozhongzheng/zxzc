<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>众享资产管理平台 - 注册</title>
    <link rel="stylesheet" href="css/lcss/register.css">
    <link href="css/SpryTabbedPanels.css" rel="stylesheet" type="text/css" />
        <script src="js/jquery-2.2.3.min.js"></script>
    <script src="js/SpryTabbedPanels.js" type="text/javascript"></script>
    <style>
        [id$=Check_label]
        {
            font-size:14px;
        }
    </style>
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?423d1e46a3f037d8c42e1b2853f3e69e";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>
</head>
<body>
<script language=javascript>
    function checkaccountgr(){
        // return false;
        var inputlist = [];
        $('#person input[type="text"]').each(function(){
            if($(this).val()!=""){
              inputlist.push($(this).val());
            }

        });
        var dlmmg1=$("#dlmmg1").val();
        var dlmmg2=$("#dlmmg2").val();

        var checklist = $("span[id$='Check_label1']").text();
         if(checklist!=""){
             alert(checklist);
             return false;
         }else if(dlmmg1==""||dlmmg2==""||inputlist.length!=6){
             alert("请完整填写信息!");
             return false;
         }
        return true;

    }
    function checkaccountqy(){
        // return false;
        var inputlist = [];
        $('#enterprise input[type="text"]').each(function(){
            if($(this).val()!=""){
                inputlist.push($(this).val());
            }

        });
        var dlmmq1=$("#dlmmq1").val();
        var dlmmq2=$("#dlmmq2").val();

        var checklist = $("span[id$='Check_label2']").text();
         if(checklist!=""){
             alert(checklist);
             return false;
         }else if(dlmmq1==""||dlmmq2==""||inputlist.length!=7){
             alert("请完整填写信息!");
             return false;
         }
        return true;

    }
    function checkRegisterInfo(num,obj){
        var text = $(obj).val();
        var check = $(obj).parent().children('span').eq(1);
        check.html( "");
        var inputname = $(obj).parent().children().text();


        switch (num) {

                //验证资产名称
            case 1:

                //验证是否为空

                if (text == "") {
                    check.html(inputname+"不能为空!");
                    check.css({color:"red"});

                } else{
                    check.html( "");
                }
                break;
            case 2:

                if (text == "") {
                    check.html(inputname+"不能为空!");
                    check.css({color:"red"});

                } else if(text.search(/^(\d{15}$|^\d{18}$|^\d{17}(\d|X|x))$/) == -1){
                    check.css({color:"red"});
                    check.html("请输入规范的身份证号码!");
                }else{
                    check.html( "");
                }
                break;
            case 3:

                if (text == "") {
                    check.html(inputname+"不能为空!");
                    check.css({color:"red"});

                } else if(text.search(/^(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$|(^(13[0-9]|15[0-9]|17[0-9]|18[0-9])\d{8}$)/) == -1){
                    check.css({color:"red"});
                    check.html("请输入正确的联系电话!");
                }else{
                    check.html( "");
                }
                break;
            case 4:

            case 51:
                $('#dlmm1').val();
                // 验证格式

                if (text == "") {
                    check.html(inputname+"不能为空!");
                    check.css({color:"red"});

                } else if (text.search(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,8}$/)) {
                    check.html( "密码必须为8位字母和数字组合!");
                    check.css({color:"red"});

                }else{
                    check.html( "");
                }
                break;
            case 5:
                $('#dlmm1').val();
               // 验证格式

                if (text == "") {
                    check.html(inputname+"不能为空!");
                    check.css({color:"red"});

                } else if (text.search(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,8}$/)) {
                    check.html( "密码必须为8位字母和数字组合!");
                    check.css({color:"red"});

                } else if ( $('#dlmmg1').val()!= $('#dlmmg2').val()) {
                    check.html( "两次输入的密码不一致!");
                    check.css({color:"red"});

                }else{
                    check.html( "");
                }
                break;
            case 61:
                $('#dlmm1').val();
                // 验证格式

                if (text == "") {
                    check.html(inputname+"不能为空!");
                    check.css({color:"red"});

                } else if (text.search(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,8}$/)) {
                    check.html( "密码必须为8位字母和数字组合!");
                    check.css({color:"red"});
                }else{
                    check.html( "");
                }
                break;
            case 6:
                $('#dlmm1').val();
                // 验证格式

                if (text == "") {
                    check.html(inputname+"不能为空!");
                    check.css({color:"red"});

                } else if (text.search(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,8}$/)) {
                    check.html( "密码必须为8位字母和数字组合!");
                    check.css({color:"red"});

                } else if ( $('#dlmmq1').val()!= $('#dlmmq2').val()) {
                    check.html( "两次输入的密码不一致!");
                    check.css({color:"red"});

                }else{
                    check.html( "");
                }
                break;
                //验证资产代码
            case 7:


                if (text == "") {
                    check.html(inputname+"不能为空!");
                    check.css({color:"red"});

                } else if(text.search(/^[0-9]+$/) == -1){
                    check.css({color:"red"});
                    check.html("企业注册号不正确!");
                }else{
                    check.html( "");
                }
                break;


        }
    }
</script>
    <div id="tou">
        <div id="logo">
            <img src="img/logo_0.png" width="80%" height="80%" />
        </div>
        <div id="welc">welcome to peersafe asset management platform</div>
        <div id="dlk">
            <div id="TabbedPanels1" class="TabbedPanels">
                <ul style="margin-top:30px">
                    <li class="TabbedPanelsTab" tabindex="0">个人用户注册</li>
                    <li class="TabbedPanelsTab" tabindex="0">企业用户注册</li>
                </ul>
                <div class="TabbedPanelsContentGroup">
                    <div class="TabbedPanelsContent" id="person">
                        <form id="form1" name="form1" method="post" action="/register" onsubmit="return checkaccountgr()">
                            <input type="text" name="type" value="personal" style="display:none">
                            <div class="div_bd" id="div_dm" style="margin-top:15px">
                                <span class="font1">姓名</span>&nbsp&nbsp<span id="zcmcCheck_label1"></span><br /><br
                                    style="line-height:12px" /> <input name="name" type="text"

                                    class="bd" id="zcmc" value="" onblur="checkRegisterInfo(1,this)" />


                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">姓别</span><br /> <br
                                    style="line-height:12px" /> 
                                    <input type="radio" name="sex" value="男" checked="true"> <span class="font1">男</span>
                                    <input type="radio" name="sex" value="女"> <span class="font1">女</span>
                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">身份证</span>&nbsp&nbsp<span id="sfzhCheck_label1"></span><br /> <br
                                    style="line-height:12px" /> <input name="id" type="text"

                                    class="bd" id="sfzh" value="" onblur="checkRegisterInfo(2,this)" />


                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">工作单位</span>&nbsp&nbsp<span id="gzdwCheck_label1"></span><br /> <br
                                    style="line-height:12px" /> <input name="workplace" type="text"

                                    class="bd" id="gzdw" value="" onblur="checkRegisterInfo(1,this)" />

                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">联系人电话</span>&nbsp&nbsp<span id="lxdhCheck_label1"></span><br /> <br
                                    style="line-height:12px" /> <input name="phone" type="text"

                                    class="bd" id="lxdh" value="" onblur="checkRegisterInfo(3,this)"/>

                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">联系人地址</span>&nbsp&nbsp<span id="lxdzCheck_label1"></span><br /> <br
                                    style="line-height:12px" /> <input name="address" type="text"

                                    class="bd" id="lxdz" value="" onblur="checkRegisterInfo(1,this)" />

                            </div>
                            <hr />

                            <div class="div_bd" id="div_dm" style="margin-top:30px">
                                <span class="font1">设置登录密码</span>&nbsp&nbsp<span id="dlmm1Check_label1">密码必须为8位字母和数字组合</span><br /> <br
                                    style="line-height:12px" /> <input name="pwd" type="password"

                                    class="bd" id="dlmmg1" value="" onblur="checkRegisterInfo(51,this)" />

                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">再次输入密码</span>&nbsp&nbsp<span id="dlmm2Check_label1"></span><br /> <br
                                    style="line-height:12px" /> <input  type="password"

                                    class="bd" id="dlmmg2" value="" onblur="checkRegisterInfo(5,this)" />

                            </div>
                            <%if(msg){%>
                            <div class="div_bd" id="div_dm" style="margin-top:11px;">
                                <span class="font1"style="color: red"><%=msg%></span>
                            </div>
                            <%}%>
                              <div id="fh">
                                <img id="fhwz1" src="img/fhjt.png" width="12" height="16" />
                                <a href="login" class="font3" id="fhwz">返回</a>
                              </div>
                            <div id="an">
                                <input type="submit" class="an1" value="注册" />
                            </div>
                        </form>
                    </div>

                    <div class="TabbedPanelsContent" id="enterprise">
                        <form id="form1" name="form1" method="post" action="/register" onsubmit="return checkaccountqy()">
                            <input type="text" name="type" value="enterprise" style="display:none">
                            <div class="div_bd" id="div_dm" style="margin-top:15px">
                                <span class="font1">企业名称</span>&nbsp&nbsp<span id="qymcCheck_label2"></span><br /> <br
                                    style="line-height:12px" /> <input name="name" type="text"

                                    class="bd" id="qymc" value="" onblur="checkRegisterInfo(1,this)"/>

                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">企业注册号</span>&nbsp&nbsp<span id="qyzchCheck_label2"></span><br /> <br
                                    style="line-height:12px" /> <input name="id" type="text"

                                    class="bd" id="qyzch" value="" onblur="checkRegisterInfo(7,this)" />

                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">企业法人</span>&nbsp&nbsp<span id="qyfrCheck_label2"></span><br /> <br
                                    style="line-height:12px" /> <input name="corporation" type="text"

                                    class="bd" id="qyfr" value="" onblur="checkRegisterInfo(1,this)" />

                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">企业地址</span>&nbsp&nbsp<span id="qydzCheck_label2"></span><br /> <br
                                    style="line-height:12px" /> <input name="address" type="text"

                                    class="bd" id="qydz" value="" onblur="checkRegisterInfo(1,this)" />


                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">联系人电话</span>&nbsp&nbsp<span id="xldhCheck_label2"></span><br /> <br
                                    style="line-height:12px" /> <input name="phone" type="text"

                                    class="bd" id="xldh" value="" onblur="checkRegisterInfo(3,this)" />

                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">联系人地址</span>&nbsp&nbsp<span id="xldzCheck_label2"></span><br /> <br
                                    style="line-height:12px" /> <input name="personAddress" type="text"

                                    class="bd" id="xldz" value="" onblur="checkRegisterInfo(1,this)" />

                            </div>
                            <hr />

                            <div class="div_bd" id="div_dm" style="margin-top:30px">
                                <span class="font1">设置登录密码</span>&nbsp&nbsp<span id="dlmm1Check_label2">密码必须为8位字母和数字组合</span><br /> <br
                                    style="line-height:12px" /> <input name="pwd" type="password"

                                    class="bd" id="dlmmq1" value="" onblur="checkRegisterInfo(61,this)" />

                            </div>

                            <div class="div_bd" id="div_dm" style="margin-top:11px">
                                <span class="font1">再次输入密码</span>&nbsp&nbsp<span id="dlmm2Check_label2"></span><br /> <br
                                    style="line-height:12px" /> <input  type="password"

                                    class="bd" id="dlmmq2" value="" onblur="checkRegisterInfo(6,this)" />

                            </div>
                            <%if(msg){%>
                            <div class="div_bd" id="div_dm" style="margin-top:11px;">
                                <span class="font1"style="color: red"><%=msg%></span>
                            </div>
                            <%}%>
                              <div id="fh">
                                <img id="fhwz1" src="img/fhjt.png" width="12" height="16" />
                                <a href="login" class="font3" id="fhwz">返回</a>
                              </div>
                            <div id="an">
                                <input type="submit" class="an1" value="注册" />
                            </div>
                        </form>
                    </div>

                </div>
                <script type="text/javascript">
                    var TabbedPanels1 = new Spry.Widget.TabbedPanels(
                            "TabbedPanels1");
                </script>
            </div>

            <br /> <br />

        </div>
    </div>
</body>
</html>